# Library Requirements - AI Voice Control Robot

Semua library yang dibutuhkan untuk project Voice Control Robot dengan AI.

---

## **PYTHON LIBRARIES**

### **Instalasi Lengkap (Copy-Paste)**

```bash
pip install torch torchvision torchaudio sounddevice scipy numpy transformers openai-whisper pyserial accelerate sentencepiece
```

### **Instalasi Per Library**

#### **1. Audio Processing**
pip install scipy             # Save/load audio files (WAV)
pip install numpy             # Array processing
```

#### **Ready to Run!**Text (Whisper)**
```bash
pip install openai-whisper   # Whisper STT model from OpenAI
# OR alternative via transformers:
pip install transformers     # AI framework for Whisper & GPT-2
```

#### **3. AI Models (Transformers)**
```bash
pip install transformers     # HuggingFace Transformers (Whisper, GPT-2)
pip install torch            # PyTorch CPU version
pip install accelerate       # Optimasi model
pip install sentencepiece    # Tokenizer support
```

#### **4. Arduino Communication**
```bash
pip install pyserial         # Serial communication dengan Arduino
```

---

## **Khusus Windows**

Jika `sounddevice` error, install portaudio dulu:

```bash
pip install pipwin
pipwin install pyaudio
pip install sounddevice
```

Atau download **Visual C++ Redistributable** dari Microsoft.

---

## **Arduino IDE Libraries**

Install via **Arduino IDE → Tools → Manage Libraries**:

### **1. Servo** (Built-in)
- Sudah terinstall otomatis
- Untuk kontrol servo motor

### **2. Wire** (Built-in)
- Sudah terinstall otomatis
- Untuk komunikasi I2C (LCD)

### **3. LCD_I2C** by blackhack
```
Search: "LCD_I2C"
Author: blackhack
Install: Latest version
```

### **4. DFRobot_DHT11**
```
Search: "DFRobot_DHT11"
Author: DFRobot
Install: Latest version
```

**Alternatif DHT11 Library:**
```
Search: "DHT sensor library"
Author: Adafruit
Install: "DHT sensor library"
+ "Adafruit Unified Sensor"
```

---

## **Model Downloads (Otomatis)**

Saat pertama kali run, akan download:

### **Whisper Model**
- Model: `openai/whisper-tiny`
- Size: ~150 MB
- Download ke: `~/.cache/huggingface/`

### **GPT-2 Model**
- Model: `gpt2`
- Size: ~500 MB
- Download ke: `~/.cache/huggingface/`

**Total download pertama kali: ~650 MB**

---

## **System Requirements**

### **Minimum:**
- RAM: 4 GB
- Storage: 2 GB free space
- CPU: Dual-core 2.0 GHz
- Python: 3.8+
- Arduino IDE: 1.8.19+

### **Recommended:**
- RAM: 8 GB
- Storage: 5 GB free space
- CPU: Quad-core 2.5 GHz+
- Python: 3.10+
- Arduino IDE: 2.0+

---

## **Verifikasi Instalasi**

### **Python Libraries:**
```bash
python -c "import sounddevice; import whisper; import transformers; import serial; print('All Python libraries installed!')"
```

### **Check Microphone:**
```bash
python -c "import sounddevice; print(sounddevice.query_devices())"
```

### **Check Arduino Port:**

**Windows:**
- Device Manager → Ports (COM & LPT)
- Cari "Arduino Uno (COMx)"

**Linux:**
```bash
ls /dev/ttyUSB* /dev/ttyACM*
```

**Mac:**
```bash
ls /dev/cu.usbserial* /dev/cu.usbmodem*
```

---

## **Common Issues & Solutions**

### **Issue 1: sounddevice error**
```bash
# Windows:
pip install pipwin
pipwin install pyaudio

# Linux:
sudo apt-get install portaudio19-dev
pip install sounddevice

# Mac:
brew install portaudio
pip install sounddevice
```

### **Issue 2: Whisper terlalu lambat**
Ganti ke model yang lebih kecil di `voice_robot.py`:
```python
# Ganti dari:
model = whisper.load_model("tiny")

# Ke transformers (lebih ringan):
from transformers import pipeline
model = pipeline("automatic-speech-recognition", model="openai/whisper-tiny")
```

### **Issue 3: GPT-2 terlalu besar**
Sudah pakai `gpt2` (500MB). Jika masih berat, tidak ada yang lebih kecil yang bagus untuk command processing.

### **Issue 4: Arduino tidak terdeteksi**
```bash
# Install CH340 driver (untuk Arduino clone)
# Download dari: http://www.wch.cn/downloads/CH341SER_ZIP.html

# Linux: Add user to dialout group
sudo usermod -a -G dialout $USER
# Logout dan login lagi
```

### **Issue 5: LCD tidak muncul**
Check I2C address:
```cpp
// Di Arduino IDE, upload sketch ini:
#include <Wire.h>
void setup() {
  Wire.begin();
  Serial.begin(9600);
  Serial.println("I2C Scanner");
}
void loop() {
  for(byte i = 1; i < 127; i++) {
    Wire.beginTransmission(i);
    if(Wire.endTransmission() == 0) {
      Serial.print("Found at: 0x");
      Serial.println(i, HEX);
    }
  }
  delay(5000);
}

// Ganti 0x27 di kode dengan address yang ditemukan
```

---

## **📊 Storage Requirements**

```
Python Libraries:       ~1.5 GB
AI Models (cached):     ~650 MB
Arduino Libraries:      ~50 MB
Project Code:           ~100 KB
Audio Files (temp):     ~5 MB

TOTAL:                  ~2.2 GB
```

---

## **Update Libraries**

```bash
# Python
pip install --upgrade openai-whisper transformers torch sounddevice pyserial

# Arduino
# Arduino IDE → Tools → Manage Libraries → Click "Update All"
```

---

## **💡 Tips Optimasi**

### **1. Untuk Komputer Lemah:**
```python
# voice_robot.py - Ganti model Whisper
model = whisper.load_model("tiny")  # Paling ringan (150MB)
# Jangan pakai: base, small, medium, large

# stt_ai.py - Ganti GPT-2
ai_pipe = pipeline("text-generation", model="distilgpt2")  # Lebih ringan
```

### **2. Untuk Speed:**
```python
# Tambahkan di voice_robot.py setelah load model:
import torch
if torch.cuda.is_available():
    model = model.to("cuda")  # Pakai GPU jika ada
```

### **3. Untuk Menghemat RAM:**
```python
# Jangan load semua model sekaligus
# Load on-demand saja
```

---

## **📝 Quick Start Checklist**

- [ ] Install Python 3.8+
- [ ] Install Arduino IDE
- [ ] `pip install` semua Python libraries
- [ ] Install Arduino libraries via Library Manager
- [ ] Download models (otomatis saat run pertama kali)
- [ ] Check microphone: `sounddevice.query_devices()`
- [ ] Check Arduino port di Device Manager
- [ ] Upload `robot.ino` ke Arduino
- [ ] Edit `ARDUINO_PORT` di `stt_ai.py`
- [ ] Run `python voice_robot.py`

---

**✅ Jika semua sudah terinstall, project siap dijalankan!**

**🚀 Run command:**
```bash
python voice_robot.py
```